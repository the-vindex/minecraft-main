function printApi(obj)
	local count = 0
	local text= ""
	for i,v in pairs(p) do
		text = text .. i .. "\n"
	end
	textutils.pagedPrint(text)
end

function printInventory(inv)
    local text = ""
	for i = 0,inv.getSizeInventory() do
		local slot = inv.getStackInSlot(i)
		if slot ~= nil then
			text = text.."Slot number "..i.."\n"
			for key, value in pairs(slot) do
				text = text..key.. " = " .. tostring(value) .. "\n"
			end
		end
	end
	textutils.pagedPrint(text)
end

function printArray(arr)
	local text = ""
	for i,v in ipairs(arr) do
		text = text .. i .. ":" .. v .. "\n"
	end
	textutils.pagedPrint(text)
end

inoculator = peripheral.wrap("front")
--printInventory(p)
--printApi(p)

local SLOT_OCCUPIED = "present"
local SLOT_EMPTY = "empty"

function processSlotInfo(slotInfo, intoLocalInfo, index)
	if slotInfo ~= nil then
		intoLocalInfo[index] = SLOT_OCCUPIED
	else
		intoLocalInfo[index] = SLOT_EMPTY
	end
end

function isSlotEmpty(dataTable, index)
	return dataTable[index] == SLOT_EMPTY
end

function isAllSlotsEmpty(dataTable)
	local empty = true
	for i,v in ipairs(dataTable) do
		if not(isSlotEmpty(dataTable,i)) then
			empty = false
		end
	end
	return empty
end

function getDataFromInoculator(inventoryStart,inventorySize,localData)
	local index = 0
	for i=inventoryStart,inventoryStart + inventorySize - 1 do
		index = index + 1
		local slot = inoculator.getStackInSlot(i)
		
		processSlotInfo(slot, localData, index)
		
	end
end

local input = {}
local output = {}
local processing = {}
local serum = {}

getDataFromInoculator(3, 6, input) ------ INPUT SLOTS
getDataFromInoculator(9, 6, output) ------ OUTPUT SLOTS
getDataFromInoculator(15, 1, serum) ------ SERUM SLOT
getDataFromInoculator(2, 1, processing) ------ PROCESSING SLOT

printArray(input)
printArray(output)
printArray(serum)
printArray(processing)

------General info
-- All slots are OpenPeripheral numbers based from 0.
-- Inoculator:
-- slot 2 - bee being inoculated right now
-- slot 3..8 - backlog 1..6
-- slot 9..14 - output 1..6
-- slot 15 - serum

----- Serum
-- Name - what is this
-- dmg - number of charges missing from full (dmg=4 => 12 charges)